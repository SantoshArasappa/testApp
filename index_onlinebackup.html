<!DOCTYPE html>
<html ng-app="app">

  <head>
    <script data-require="angular.js@*" data-semver="1.5.6" src="//code.angularjs.org/1.5.6/angular.js"></script>
    <script data-require="ui-bootstrap@*" data-semver="1.3.3" src="https://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-1.3.3.min.js"></script>
    <link data-require="bootstrap-css@*" data-semver="3.3.6" rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.rawgit.com/SantoshArasappa/testApp/1ce6f6a7/style.css" />
      <link rel="stylesheet" href="https://cdn.rawgit.com/SantoshArasappa/testApp/1ce6f6a7/dropdownMenu/normalize.css">
    <link rel="stylesheet" href="https://cdn.rawgit.com/SantoshArasappa/testApp/1ce6f6a7/dist/angular-dropdowns.min.css">
    <link rel="stylesheet" href="https://cdn.rawgit.com/SantoshArasappa/testApp/1ce6f6a7/dropdownMenu/page.css">
    <script src="https://cdn.rawgit.com/SantoshArasappa/testApp/1ce6f6a7/gm.datepickerMultiSelect.js"></script>
       <script type="text/javascript" src="https://cdn.rawgit.com/SantoshArasappa/testApp/1ce6f6a7/dist/angular-dropdowns.js"></script>
    <script src="https://cdn.rawgit.com/SantoshArasappa/testApp/1ce6f6a7/script.js"></script>
  </head>

   <body ng-controller='AppCtrl as $app' ng-init="getEventsDetails()">
       
    <script type="text/ng-template" id="template/multi-datepicker.tpl.html">
       <div class="uib-datepicker" ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">
            <uib-daypicker ng-switch-when="day" tabindex="0" template-url="template/multi-day.tpl.html"></uib-daypicker>
            <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>
            <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>
        </div>
    </script>   
       
    <script type="text/ng-template" id="template/multi-day.tpl.html">
       <table class="uib-daypicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">
            <thead>
                <tr>
                    <th>
                        <button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1">
                            <i class="glyphicon glyphicon-chevron-left"></i>
                        </button>
                    </th>
                    <th colspan="{{::5 + showWeeks}}">
                        <button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1">
                            <strong>{{title}}</strong>
                        </button>
                    </th>
                    <th>
                        <button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button>
                    </th>
                </tr>
                <tr>
                    <th ng-if="showWeeks" class="text-center"></th>
                    <th ng-repeat="label in ::labels track by $index" class="text-center">
                        <small aria-label="{{::label.full}}">{{::label.abbr}}</small>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="uib-weeks" ng-repeat="row in rows track by $index">
                    <td ng-if="showWeeks" class="text-center h6">
                        <em>{{ weekNumbers[$index] }}</em>
                    </td>
                    <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">
                        <button type="button" class="btn btn-default btn-sm" ng-class="{'btn-info': dt.selected, active:    isActive(dt)}" ng-click="select(dt.date)" ng-disabled="::dt.disabled" tabindex="-1">
                            <span ng-class="::{'text-muted': dt.secondary, 'text-info': dt.current}">{{::dt.label}}</span>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </script>   
       
       
    <table>
      <tr>
        <td>
            <h2>Pick Date Range</h2>
          <uib-datepicker ng-model='$app.activeDate' multi-select='$app.selectedDates' select-range='true' template-url='template/multi-datepicker.tpl.html'></uib-datepicker>
           
        </td>
        <td>
            <table>
         <tr>
            <td> 
            <h2>Select Location</h2>
                <div dropdown-select="locationOptions" dropdown-model="selectedLoc" dropdown-disabled="dropdownsDisabled"></div> 
            </td>
            <!--<div>
                <ul id='places'>
                    <li class='header'>Place List</li>
                    <li ng-repeat='p in places track by $index'>
                        {{p}}
                    </li>
                </ul>    
              </div>-->
        </tr>
          
          
        <tr>
            <td>
            <h2>Select Game</h2>
                <div dropdown-select="ddSelectOptions" dropdown-model="selectedGame" dropdown-disabled="dropdownsDisabled"></div>
            </td>    
            <!--<div>
                <ul id='places'>
                    <li class='header'>Place List</li>
                    <li ng-repeat='p in places track by $index'>
                        {{p}}
                    </li>
                </ul>    
              </div>-->
        </tr>
            </table>
        </td>  
        </tr>  
        
        <tr>
            <td>
              <button class='btn btn-lg btn-warning' style='margin:5px;width:300px' ng-click='$app.filterEvents()'>Search Events</button>    
            </td>
            <td>
              <button class='btn btn-lg btn-warning' style='margin:5px;width:300px' ng-click='$app.clearFilters()'>clear</button>    
            </td>
        </tr>
        
        
        <tr>
        <td>
          <!--<div ng-if='$app.type=="individual"'>
            Selected Dates:
            <div class='well well-sm'>
              <div ng-repeat='d in $app.selectedDates | orderBy'>
                {{d | date : 'fullDate'}}
                <button class='btn btn-xs btn-warning' style='margin:5px' ng-click='$app.removeFromSelected(d)'>Remove</button>
              </div>
            </div>
          </div>
          
            Selected Range: 
            <div class='well well-sm'>
              {{($app.selectedDates | orderBy)[0] | date:"fullDate"}}
              <span ng-if='$app.selectedDates.length > 1'>
                - {{($app.selectedDates | orderBy : '-')[0] | date:"fullDate"}}
              </span>
          	</div>-->
        	
            <div>
                <h1>Events in the selected Date Range</h1>
                <ul id='calendar'>
                    
                     <li ng-if="eventsResultsFiltered.length == 0"> No evenets Found</li>
                    <li ng-repeat='event in eventsResultsFiltered | orderBy: "start_date"'>
                        <strong>{{event.SUMMARY}} </strong><br/> {{event.day}} : {{event.start_time}} - {{event.end_time}}({{event.start_date}})
                        <br/>Game: {{gameSelected}}<br/>Place: {{placeSelected}}
                    </li>
                </ul>    
              </div>
            
            
        </td>
      </tr>
    </table>
  </body>

</html>
